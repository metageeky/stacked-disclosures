<!doctype html>

<html lang="en">
<head>
	<meta charset="utf-8">

	<title></title>

	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/local.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" />
	<link rel="stylesheet" href="css/prism-visual-studio.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js" integrity="sha512-YBk7HhgDZvBxmtOfUdvX0z8IH2d10Hp3aEygaMNhtF8fSOvBZ16D/1bXZTJV6ndk/L/DlXxYStP8jrF77v2MIg==" crossorigin="anonymous">
</script>
	
	<link rel="stylesheet" href="dist/stacked-disclosure.css">
	<script src="dist/stacked-disclosure.js"></script>
</head>

<body>
	<div id="hiddenStuff" aria-hidden="true" hidden>
		<svg aria-hidden="true" focusable="false" id="icons" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
			<symbol id="icon-plus" viewBox="0 0 90 90">
				<g>
					<line stroke-width="20" stroke="currentColor" fill="none" y2="85" y1="5" x2="45" x1="45"/>
					<line stroke-width="20" stroke="currentColor" fill="none" y2="45" y1="45" x2="85" x1="5"/>
				</g>
			</symbol>
			<symbol id="icon-minus" viewBox="0 0 90 90">
				<g>
					<line stroke-width="20" stroke="currentColor" fill="none" y2="45" y1="45" x2="85" x1="5"/>
				</g>
			</symbol>
			<symbol id="icon-close-all" viewBox="0 0 200 200">
				<path stroke-width="10" stroke="currentColor" fill="transparent" style="fill: var(--top-fill-color, transparent); stroke: 	var(--top-stroke-color, currentColor)" d="M15 15h130v130H15z"/>
				<path fill="none" stroke="currentColor" stroke-width="20" style="stroke: var(--icon-color, currentColor)" d="M40 80h80"/>
				<path fill="none" stroke="currentColor" stroke-width="10" style="stroke: var(--stroke-color, currentColor)" d="M50 185h140M165 30v140"/>
				<path fill="none" stroke="currentColor" stroke-width="10" style="stroke: var(--stroke-color, currentColor)" d="M30 165h140M185 50v135"/>
				<g fill="none" stroke="transparent" style="stroke: var(--highlight-color, transparent)" stroke-width="10"  >
					<path d="M40 175h140M155 20v140M20 155h140M175 40v140"/>
			</symbol>
			<symbol id="icon-open-all" viewBox="0 0 200 200">
				<path stroke-width="10" stroke="currentColor" fill="transparent" style="fill: var(--top-fill-color, transparent); stroke: var(--top-stroke-color, currentColor)" d="M15 15h130v130H15z"/>
				<path fill="none" stroke="currentColor" stroke-width="20" style="stroke: var(--icon-color, currentColor)" d="M80 40v80M40 80h80"/>
				<path fill="none" stroke="currentColor" stroke-width="10" style="stroke: var(--stroke-color, currentColor)" d="M50 185h140M165 30v140"/>
				<path fill="none" stroke="currentColor" stroke-width="10" style="stroke: var(--stroke-color, currentColor)" d="M30 165h140M185 50v135"/>
				<g fill="none" stroke="transparent" style="stroke: var(--highlight-color, transparent)" stroke-width="10"  >
					<path d="M40 175h140M155 20v140M20 155h140M175 40v140"/>
				</g>
			</symbol>
		</svg>
	</div>
	<header>
		<banner>
			<a class="skipnavlink offscreen" href="#main">
				Skip to main content
			</a>
		</banner>
	</header>
	<main id="main" class="page-centered-content">
	
		<div id="main-content">
			<h1 id="page-title">Stacked Disclosure Pattern</h1>
			<p>
				The <a href="https://www.w3.org/TR/wai-aria-practices-1.1/#accordion">accordion 
				widget pattern</a> consists of a set of associated disclosure panels. Each panel 
				can be opened or closed individually with the purpose of reducing the need to 
				scroll through multiple sections on a page. Commonly, the accordion will 
				typically limit it to only ONE panel open at a time. If a panel is open and 
				the user opens another one, the other closes. This comes off as a potential 
				antipattern in that the accordion can prevent the user from comparing the content 
				in different panels. The accordion pattern works if the panel contents are truly 
				independent of each other. That is rarely the case.
			</p>
			<p>
				The <strong>stacked disclosure pattern</strong> presented here is a similar 
				approach to the accordion pattern but permits multiple panels to be open 
				at any time. Additional features include controls to easily open or close all 
				panels at once.
			</p>

			<h2>Example</h2>
			

		<div class="stacked-disclosure" id="stack2" aria-labelledby="stack2-heading">
			<div class="stack-top">
				<h3 class="stack-name" id="stack2-heading">
					Cat Coat Patterns
				</h3>
				<button class="open-all">
					<span>Open All</span>
					<svg><use xlink:href="#icon-open-all"></use></svg>
				</button>
				<button class="close-all">
					<span>Close All</span>
					<svg><use xlink:href="#icon-close-all"></use></svg>
				</button>
			</div>

			<h4 class="panel-control" data-disclosure-expanded="true">
				<button class="toggle" aria-expanded="true">
					<svg class="plus"><use xlink:href="#icon-plus"></use></svg>
					<svg class="minus"><use xlink:href="#icon-minus"></use></svg>
					<div>
						Tuxedo Cats
					</div>
				</button>
			</h4>
			<div class="panel">
				<p>
					Tuxedo cats refer to cats whose coats are a mix of only white and black, 
					although there are dilute tuxedos who are gray and white. However, not 
					all cats with black and white coats are "proper" tuxedos. A "true" tuxedo
					looks like they are in formal wear. They usually have a white belly that
					extends up to the next or face while the rest is black, just like a tuxedo
					shirt and coat. Quite often, they they will have more white on their face
					(including mustaches) as well as the very popular white socks at the end of
					their legs.
				</p>
			</div>

			<h4 class="panel-control" data-disclosure-expanded="true">
				<button class="toggle" aria-expanded="true">
					<svg class="plus"><use xlink:href="#icon-plus"></use></svg>
					<svg class="minus"><use xlink:href="#icon-minus"></use></svg>					
					<div>
						Calico Cats
					</div>
				</button>
			</h4>
			<div class="panel">
				<p>
					The calico cat is an amazing genetic circumstance that produces at tricolor
					cat of white, orange, and either gray or black. Because some coat colorings
					are sex-linked traits, it is extremely rare for a calico cat to be a male. 
					In such cases, a male calico usually has some genetic anomalies such as being
					intersexed or having a chromosome duplication. The consequences are generally
					sterility but a beautiful coat.
				</p>
			</div>

			<h4 class="panel-control" data-disclosure-expanded="true">
				<button class="toggle" aria-expanded="true">
					<svg class="plus"><use xlink:href="#icon-plus"></use></svg>
					<svg class="minus"><use xlink:href="#icon-minus"></use></svg>
					<div>White Cats</div>
				</button>
			</h4>
			<div class="panel">
				<p>
					A white cat is not necessarily albino, but there is a decent chance that
					the cat may have some degree of deafness. The degree of deafness is linked
					to eyecolor. White cats with blue eyes have a very high chance of being deaf,
					while other eye colors still have a higher chance of hearing issues compared
					to other cat coat patterns and colors.
				</p>
			</div>
			</div>
		</div>

			<h2>Design Aspects</h2>

<pre><code class="language-html">
</code></pre>

			<h3>Progressive Enhancement</h3>
			<p>
				If the user's browser does not support JavaScript, the disclosure panels are
				open by default. If JavaScript is available, the panels are closed either by:
			</p>
			<ul>
				<li>
					A mutation observer closes each panel as it is added to the DOM. This 
					prevents page flashing.
				</li>
				<li>
					If mutation observers are not supported, a more basic script closes the
					panels.
				</li>
			</ul>

			<h3> 
				Why not use the <code>&lt;details&gt;</code> element?
			</h3>
			<p> 
				The <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details">
				<code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code></a> elements were 
				added in HTML5 to provide a native disclosure element. Unfortunately, these 
				elements are not a viable replacement for either the accordion or stacked 
				disclosure patterns. The reasons are multi-fold:
			</p>
			<ul>
				<li>
					The <code>&lt;summary&gt;</code> element cannot contain headings despite those
					being a recommended practice as that leads to the 
					<a href="https://daverupert.com/2019/12/why-details-is-not-an-accordion/">heading 
					not being exposed</a> to screen readers. This is a known <a href="https://github.com/FreedomScientific/VFO-standards-support/issues/105">ongoing 
					access issue</a>. As accordion toggles are recommended to be headings, this is 
					the major reason why accordions should not rely on the <code>&lt;details&gt;</code>
					element currently.
				</li>
				<li>
					To meet the required interactions for either pattern, additional JavaScript
					code would be required in addition to the native behaviors. 
				</li>
				<li>
					Although support for these new elements continues to grow, many inclusive approaches
					mandate that <a href="https://caniuse.com/?search=details">Can I use...</a>
					statistics for support meet a 
					<a href="https://umnlibraries.github.io/design-system/code/general.html#support">98% 
					threshold</a>. 
				</li>
			</ul>
		</div>
		
		
	</main>
	<footer>
		<div class="page-centered-content">
			A footer of something. Perhaps a leg?
		</div>
	</footer>


</body>
</html>