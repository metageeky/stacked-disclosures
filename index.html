<!doctype html>

<html lang="en">
<head>
	<meta charset="utf-8">

	<title></title>

	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/local.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" />
	<link rel="stylesheet" href="css/prism-visual-studio.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js" integrity="sha512-YBk7HhgDZvBxmtOfUdvX0z8IH2d10Hp3aEygaMNhtF8fSOvBZ16D/1bXZTJV6ndk/L/DlXxYStP8jrF77v2MIg==" crossorigin="anonymous">
</script>
	
	<link rel="stylesheet" href="dist/stacked-disclosure.css">
	<script src="dist/stacked-disclosure.js"></script>
</head>

<body>
	<div id="hiddenStuff" aria-hidden="true" hidden>
		<svg aria-hidden="true" focusable="false" id="icons" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
			<symbol id="icon-plus" viewBox="0 0 90 90">
				<g>
					<line stroke-width="20" stroke="currentColor" fill="none" y2="85" y1="5" x2="45" x1="45"/>
					<line stroke-width="20" stroke="currentColor" fill="none" y2="45" y1="45" x2="85" x1="5"/>
				</g>
			</symbol>
			<symbol id="icon-minus" viewBox="0 0 90 90">
				<g>
					<line stroke-width="20" stroke="currentColor" fill="none" y2="45" y1="45" x2="85" x1="5"/>
				</g>
			</symbol>
			<symbol id="icon-close-all" viewBox="0 0 200 200">
				<path stroke-width="10" stroke="currentColor" fill="transparent" style="fill: var(--highlight-color, transparent)" d="M15 15h130v130H15z"/>
				<path fill="none" stroke="currentColor" stroke-width="10" stroke-linejoin="undefined" stroke-linecap="undefined" d="M50 185h140M165 30v140"/>
				<path fill="none" stroke="currentColor" stroke-width="10" stroke-linejoin="undefined" stroke-linecap="undefined" d="M30 165h140M185 50v135"/>
				<g fill="none" stroke="transparent" style="stroke: var(--highlight-color, transparent)" stroke-width="10" stroke-linejoin="undefined" stroke-linecap="undefined">
					<path d="M40 175h140M155 20v140M20 155h140M175 40v140"/>
				</g>
			</symbol>
			<symbol id="icon-open-all" viewBox="0 0 200 200">
				<path stroke-width="10" stroke="currentColor" fill="transparent" style="fill: var(--highlight-color, transparent)" d="M15 15h130v130H15z"/>
				<path fill="none" stroke="currentColor" stroke-width="10" stroke-linejoin="undefined" stroke-linecap="undefined" d="M50 185h140M165 30v140"/>
				<path fill="none" stroke="currentColor" stroke-width="20" d="M80 40v80M40 80h80"/>
				<path fill="none" stroke="currentColor" stroke-width="10" stroke-linejoin="undefined" stroke-linecap="undefined" d="M30 165h140M185 50v135"/>
				<g fill="none" stroke="transparent" style="stroke: var(--highlight-color, transparent)" stroke-width="10" stroke-linejoin="undefined" stroke-linecap="undefined">
					<path d="M40 175h140M155 20v140M20 155h140M175 40v140"/>
				</g>
			</symbol>
		</svg>
	</div>
	<header>
		<banner>
			<a class="skipnavlink offscreen" href="#main">
				Skip to main content
			</a>
		</banner>
	</header>
	<main id="main" class="page-centered-content">
	
		<div id="main-content">
			<h1 id="page-title">Stacked Disclosure Pattern</h1>
			<p>
				The <a href="https://www.w3.org/TR/wai-aria-practices-1.1/#accordion">accordion 
				widget pattern</a> consists of a set of associated disclosure panels. Each panel 
				can be opened or closed individually with the purpose of reducing the need to 
				scroll through multiple sections on a page. Commonly, the accordion will 
				typically limit it to only ONE panel open at a time. If a panel is open and 
				the user opens another one, the other closes. This comes off as a potential 
				antipattern in that the accordion can prevent the user from comparing the content 
				in different panels. The accordion pattern works if the panel contents are truly 
				independent of each other. That is rarely the case.
			</p>
			<p>
				The <strong>stacked disclosure pattern</strong> presented here is a similar 
				approach to the accordion pattern but permits multiple panels to be open 
				at any time. Additional features include controls to easily open or close all 
				panels at once.
			</p>

			<h2>Example</h2>
			

		<div class="stacked-disclosure" id="stack2" aria-labelledby="stack2-heading">
			<div class="stack-top">
				<h3 class="stack-name" id="stack2-heading">
					Stacked Example 1
				</h3>
				<button class="open-all">
					<span>Open All</span>
					<svg><use xlink:href="#icon-open-all"></use></svg>
				</button>
				<button class="close-all">
					<span>Close All</span>
					<svg><use xlink:href="#icon-close-all"></use></svg>
				</button>
			</div>

			<h4 class="panel-control" data-disclosure-expanded="true">
				<button class="toggle" aria-expanded="true">
					<svg class="plus"><use xlink:href="#icon-plus"></use></svg>
					<svg class="minus"><use xlink:href="#icon-minus"></use></svg>
					<div>
						What is the best food ever?
					</div>
				</button>
			</h4>
			<div class="panel">
				<p>
					The breakfast taco, found in Tex-Mex cuisine, is a soft corn or flour tortilla filled with meat, eggs, or cheese, and can also contain  other ingredients.
				</p>
				<p>
					Indian tacos, or Navajo tacos, are made using frybread instead of tortillas. They are commonly eaten at pow-wows, festivals, and other gatherings by and for indigenous people in the United States and Canada.
				</p>
			</div>

			<h4 class="panel-control" data-disclosure-expanded="true">
				<button class="toggle" aria-expanded="true">
					<svg class="plus"><use xlink:href="#icon-plus"></use></svg>
					<svg class="minus"><use xlink:href="#icon-minus"></use></svg>					
					<div>
						Why are tuxedo cats, the black-and-white ones with so many whiskers, so awesome and cute and silly and fluffy and cute and awesome?
					</div>
				</button>
			</h4>
			<div class="panel">
				<p>
					Where there is low-to-medium grade white spotting limited to the face, paws, throat and chest of an otherwise black cat, they are known in the United States as a tuxedo cat. High-grade bicolor results in Van-pattern cats. There are many patterns between, such as "cap-and-saddle", "mask-and-mantle" and "magpie" (more randomly splashed). Bicolors are found in many cat breeds, as well as being common in domestic longhair and domestic shorthair cat
				</p>
			</div>

			<h4 class="panel-control" data-disclosure-expanded="true">
				<button class="toggle" aria-expanded="true">
					<svg class="plus"><use xlink:href="#icon-plus"></use></svg>
					<svg class="minus"><use xlink:href="#icon-minus"></use></svg>
					<div>What is chocolate?</div>
				</button>
			</h4>
			<div class="panel">
				<p>
					Several types of chocolate can be distinguished. Pure, unsweetened chocolate, often called "baking chocolate", contains primarily cocoa solids and cocoa butter in varying proportions. Much of the chocolate consumed today is in the form of sweet chocolate, which combines chocolate with sugar.
				</p>
			</div>
			</div>
		</div>

			<h2>Design Aspects</h2>

<pre><code class="language-html">
</code></pre>

			<h3>Progressive Enhancement</h3>
			<p>
				If the user's browser does not support JavaScript, the disclosure panels are
				open by default. If JavaScript is available, the panels are closed either by:
			</p>
			<ul>
				<li>
					A mutation observer closes each panel as it is added to the DOM. This 
					prevents page flashing.
				</li>
				<li>
					If mutation observers are not supported, a more basic script closes the
					panels.
				</li>
			</ul>

			<h3> 
				Why not use the <code>&lt;details&gt;</code> element?
			</h3>
			<p> 
				The <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details">
				<code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code></a> elements were 
				added in HTML5 to provide a native disclosure element. Unfortunately, these 
				elements are not a viable replacement for either the accordion or stacked 
				disclosure patterns. The reasons are multi-fold:
			</p>
			<ul>
				<li>
					To meet the required interactions for either pattern, additional JavaScript
					code would be required in addition to the native behaviors. 
				</li>
				<li>
					The <code>&lt;summary&gt;</code> element cannot contain headings despite those
					being a recommended practice as that leads to the 
					<a href="https://daverupert.com/2019/12/why-details-is-not-an-accordion/">heading 
					not being exposed</a> to screen readers. This is a known <a href="https://github.com/FreedomScientific/VFO-standards-support/issues/105">ongoing 
					access issue</a>.
				</li>
				<li>
					Although support for these new elements continues to grow, many inclusive approaches
					mandate that <a href="https://caniuse.com/?search=details">Can I use...</a>
					statistics for support meet a 
					<a href="https://umnlibraries.github.io/design-system/code/general.html#support">98% 
					threshold</a>. 
				</li>
			</ul>
		</div>
		
		
	</main>
	<footer>
		<div class="page-centered-content">
			A footer of something. Perhaps a leg?
		</div>
	</footer>


</body>
</html>